{{!--config,
search
searchResults--}}

<div class="search">
    <h2>Search for Artist and Album</h2>
    <form hx-post="{{config.mountpoint}}/search/artistalbum"
          hx-target=".search"
          hx-swap="outerHTML">
        <label>Artist:
            <input type="text"
                   name="artist"
                   placeholder="Enter artist name"
                   value="{{search.artist}}">
        </label>
        <label>Album:
            <input type="text"
                   name="album"
                   placeholder="Enter album name"
                   value="{{search.album}}">
        </label>
        <label>Path:
            <input type="text"
                   name="path"
                   placeholder="search for path (expensive)"
                   value="{{search.path}}">
        </label>
        <button type="submit">Search</button>
    </form>
    <p>Path overrules Artist / Album</p>
    {{#if searchResults}}
    <div class="search-results">
        <h3>Search Results</h3>
        <table>
            <thead>
                <tr>
                </tr>
            </thead>
            <tbody>
                {{#each searchResults as |track|}}
                <tr title="{{track.path}}">
                    <td>
                        <a href="{{../config.mountpoint}}/play/{{track.id}}">
                            &#9654;
                        </a>
                    </td>
                    {{#if track.hasId3}}
                    <td>{{track.artist}}</td>
                    <td>{{track.album}}</td>
                    <td>{{track.title}}</td>
                    {{else}}
                    <td colspan="3">{{track.path}}</td>
                    {{/if}}
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    {{else}}
    <p>No results found.</p>
    {{/if}}
</div>
