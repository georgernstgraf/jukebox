{{!--config,
search
searchResults--}}

<div class="search mt-3">
    {{!-- default: id3 == false, so show this one! --}}
    <div class="mb-2"
         x-data="{ id3: false }"
         x-show="!id3"
         @toggle-id3.window="id3 = !id3">
        <form class="align-items-center d-flex flex-column gap-2"
              hx-post="{{config.mountpoint}}/search/results"
              hx-target=".search-results"
              hx-swap="outerHTML">
            <input class="text-center fs-1 rounded-3"
                   type="text"
                   name="path"
                   placeholder="Path contains"
                   value="{{search.path}}">
            <div class="form-check form-switch">
                <label class="form-check-label">id3 search
                    <input class="form-check-input rounded-3"
                           x-data
                           @click="$dispatch('toggle-id3');"
                           :checked="id3"
                           type="checkbox"
                           role="switch"></input>
                </label>
            </div>
            <button class="btn btn-secondary"
                    title="submit"
                    type="submit">Search</button>
        </form>
    </div>
    {{!-- default: id3 == false, so DONT show this one! --}}
    <div class="mb-2"
         x-data="{ id3: false }"
         x-show="id3"
         @toggle-id3.window="id3 = !id3">
        <form class="align-items-center d-flex flex-column gap-2"
              hx-post="{{config.mountpoint}}/search/results"
              hx-target=".search-results"
              hx-swap="outerHTML">
            <input class="text-center fs-1 rounded-3"
                   type="text"
                   name="artist"
                   placeholder="Artist contains"
                   value="{{search.artist}}">
            <input class="text-center fs-1 rounded-3"
                   type="text"
                   name="album"
                   placeholder="Album contains"
                   value="{{search.album}}">
            <div class="form-check form-switch">
                <label class="form-check-label">id3 search
                    <input class="form-check-input rounded-3"
                           x-data
                           @click="$dispatch('toggle-id3');"
                           :checked="id3"
                           type="checkbox"
                           role="switch"></input>
                </label>
            </div>
            <button class="btn btn-secondary"
                    title="submit"
                    type="submit">Search</button>
        </form>
    </div>
    {{> search/results }}
</div>